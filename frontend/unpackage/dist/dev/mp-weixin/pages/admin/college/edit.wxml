<view class="container"><view class="header"><view data-event-opts="{{[['tap',[['navBack',['$event']]]]]}}" class="back-button" bindtap="__e"><text class="iconfont icon-left"></text></view><text class="title">{{isEdit?'编辑学院':'添加学院'}}</text></view><view class="form-container"><view class="form-section"><view class="section-title">基本信息</view><view class="form-item"><text class="label">学院名称<text class="required">*</text></text><input class="input" type="text" placeholder="请输入学院名称" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['collegeForm']]]]]}}" value="{{collegeForm.name}}" bindinput="__e"/></view><view class="form-item"><text class="label">学历层次</text><picker value="{{degreeIndex}}" range="{{degreeOptions}}" data-event-opts="{{[['change',[['handleDegreeChange',['$event']]]]]}}" bindchange="__e"><view class="picker-value">{{''+(degreeOptions[degreeIndex]||'请选择学历层次')+''}}<text class="iconfont icon-down"></text></view></picker></view><view class="form-item"><text class="label">学制(年)</text><picker value="{{durationIndex}}" range="{{durationOptions}}" data-event-opts="{{[['change',[['handleDurationChange',['$event']]]]]}}" bindchange="__e"><view class="picker-value">{{''+(durationOptions[durationIndex]||'请选择学制')+''}}<text class="iconfont icon-down"></text></view></picker></view><view class="form-item"><text class="label">学院介绍</text><textarea class="textarea" placeholder="请输入学院介绍" maxlength="1000" data-event-opts="{{[['input',[['__set_model',['$0','description','$event',[]],['collegeForm']]]]]}}" value="{{collegeForm.description}}" bindinput="__e"></textarea><text class="word-count">{{$root.g0+"/1000"}}</text></view></view><view class="form-section"><view class="section-title">媒体资源</view><view class="form-item"><text class="label">学院Logo</text><view class="upload-area"><block wx:if="{{collegeForm.logoUrl}}"><image class="preview-image" src="{{collegeForm.logoUrl}}" mode="aspectFit" data-event-opts="{{[['tap',[['previewImage',['$0'],['collegeForm.logoUrl']]]]]}}" bindtap="__e"></image></block><block wx:else><view data-event-opts="{{[['tap',[['uploadLogo',['$event']]]]]}}" class="upload-placeholder" bindtap="__e"><text class="iconfont icon-upload"></text><text class="upload-text">上传Logo</text></view></block><button data-event-opts="{{[['tap',[['uploadLogo',['$event']]]]]}}" class="upload-btn" bindtap="__e">{{collegeForm.logoUrl?'更换':'上传'}}</button></view><text class="hint">推荐尺寸：200x200px，格式：JPG/PNG</text></view><view class="form-item"><text class="label">学院Banner</text><view class="upload-area"><block wx:if="{{collegeForm.bannerUrl}}"><image class="preview-image banner-preview" src="{{collegeForm.bannerUrl}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0'],['collegeForm.bannerUrl']]]]]}}" bindtap="__e"></image></block><block wx:else><view data-event-opts="{{[['tap',[['uploadBanner',['$event']]]]]}}" class="upload-placeholder banner-placeholder" bindtap="__e"><text class="iconfont icon-upload"></text><text class="upload-text">上传Banner</text></view></block><button data-event-opts="{{[['tap',[['uploadBanner',['$event']]]]]}}" class="upload-btn" bindtap="__e">{{collegeForm.bannerUrl?'更换':'上传'}}</button></view><text class="hint">推荐尺寸：1080x300px，格式：JPG/PNG</text></view></view></view><view class="footer"><button data-event-opts="{{[['tap',[['navBack',['$event']]]]]}}" class="cancel-btn" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['submitForm',['$event']]]]]}}" class="submit-btn" bindtap="__e">保存</button></view></view>