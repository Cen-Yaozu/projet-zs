{"version":3,"sources":["uni-app:///main.js","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?42b2","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?2d46","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?bc49","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?5d03","uni-app:///pages/my/login.vue","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?4790","webpack:////Users/macmima1234/Desktop/projet-zs/frontend/pages/my/login.vue?fb89"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","form","username","password","showPassword","remember","isLoading","onLoad","methods","navigateTo","uni","url","togglePasswordVisibility","toggleRemember","handleLogin","title","icon","method","header","timeout","response","console","res","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCyEv1B;EACAC;IACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;MACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;QAAAC;MAAA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACAJ;kBACAK;kBACAC;gBACA;gBAAA;cAAA;gBAAA,KAIA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBAAA;gBAAA;gBAAA,OAGAN;kBACAC;kBACAM;kBACAC;oBACA;kBACA;kBACAlB;kBACAmB;gBACA;cAAA;gBARAC;gBAUAC;gBAAA,yCAEAD;gBACA;kBAAA,iBACAE,yEAEA;kBACAZ;kBACAA;;kBAEA;kBACA;oBACAA;kBACA;oBACAA;kBACA;kBAEAA;oBACAK;oBACAC;kBACA;;kBAEA;kBACAO;oBACAb;sBACAC;oBACA;kBACA;gBACA;kBACAD;oBACAK;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAK;gBACAX;kBACAK;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3KA;AAAA;AAAA;AAAA;AAAkiD,CAAgB,k6CAAG,EAAC,C;;;;;;;;;;;ACAtjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=ba7da882&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=ba7da882&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"login-container\">\n    <view class=\"login-background\">\n      <view class=\"login-shape login-shape--1\"></view>\n      <view class=\"login-shape login-shape--2\"></view>\n      <view class=\"login-shape login-shape--3\"></view>\n    </view>\n    \n    <view class=\"login-box\">\n      <view class=\"login-header\">\n        <image class=\"login-logo\" src=\"/static/images/logo5.png\" mode=\"aspectFit\" />\n        <text class=\"login-title\">用户登录</text>\n        <text class=\"login-subtitle\">欢迎回来，请登录您的账号</text>\n      </view>\n      \n      <view class=\"login-form\">\n        <view class=\"login-input-group\">\n          <view class=\"login-input-icon\">\n            <text class=\"iconfont icon-user\"></text>\n          </view>\n          <input \n            class=\"login-input\" \n            type=\"text\" \n            v-model=\"form.username\" \n            placeholder=\"请输入用户名\"\n            maxlength=\"30\"\n            :focus=\"true\"\n          />\n        </view>\n        \n        <view class=\"login-input-group\">\n          <view class=\"login-input-icon\">\n            <text class=\"iconfont icon-lock\"></text>\n          </view>\n          <input \n            class=\"login-input\" \n            :type=\"showPassword ? 'text' : 'password'\" \n            v-model=\"form.password\" \n            placeholder=\"请输入密码\"\n            maxlength=\"30\"\n          />\n          <view class=\"login-input-action\" @tap=\"togglePasswordVisibility\">\n            <text class=\"iconfont\" :class=\"showPassword ? 'icon-eye' : 'icon-eye-off'\"></text>\n          </view>\n        </view>\n        \n        <view class=\"login-remember\">\n          <view class=\"login-remember-checkbox\" @tap=\"toggleRemember\">\n            <view :class=\"{'login-remember-checkbox--active': remember}\"></view>\n          </view>\n          <text>记住我</text>\n        </view>\n        \n        <view class=\"login-button-group\">\n          <button class=\"login-button login-button--primary\" @tap=\"handleLogin\">\n            <text>登 录</text>\n          </button>\n          \n          <button class=\"login-button login-button--default\" @tap=\"navigateTo('/pages/my/register')\">\n            <text>注 册</text>\n          </button>\n        </view>\n        \n        <view class=\"login-actions\">\n          <text @tap=\"navigateTo('/pages/my/forgot-password')\">忘记密码?</text>\n          <text @tap=\"navigateTo('/pages/index/index')\">返回首页</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\n        username: '',\n        password: ''\n      },\n      showPassword: false,\n      remember: false,\n      isLoading: false\n    }\n  },\n  onLoad() {\n    // 检查是否有保存的登录信息\n    const savedUsername = uni.getStorageSync('savedUsername');\n    if (savedUsername) {\n      this.form.username = savedUsername;\n      this.remember = true;\n    }\n  },\n  methods: {\n    navigateTo(url) {\n      uni.navigateTo({ url })\n    },\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    },\n    toggleRemember() {\n      this.remember = !this.remember;\n    },\n    async handleLogin() {\n      if (!this.form.username || !this.form.password) {\n        uni.showToast({\n          title: '请输入用户名和密码',\n          icon: 'none'\n        })\n        return\n      }\n      \n      if (this.isLoading) return;\n      this.isLoading = true;\n      \n      try {\n        const response = await uni.request({\n          url: 'http://localhost:8080/api/users/login',\n          method: 'POST',\n          header: {\n            'Content-Type': 'application/json'\n          },\n          data: this.form,\n          timeout: 10000\n        })\n        \n        console.log('登录响应:', response)\n        \n        const [err, res] = response\n        if (!err && res.statusCode === 200 && res.data.success) {\n          const { token, user } = res.data.data\n          \n          // 保存token和用户信息\n          uni.setStorageSync('token', token)\n          uni.setStorageSync('userInfo', user)\n          \n          // 如果勾选了记住我，则保存用户名\n          if (this.remember) {\n            uni.setStorageSync('savedUsername', this.form.username)\n          } else {\n            uni.removeStorageSync('savedUsername')\n          }\n          \n          uni.showToast({\n            title: '登录成功',\n            icon: 'success'\n          })\n          \n          // 统一跳转到个人中心页面\n          setTimeout(() => {\n            uni.reLaunch({\n              url: '/pages/my/index'\n            })\n          }, 1000)\n        } else {\n          uni.showToast({\n            title: (res && res.data && res.data.message) || '登录失败',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('登录错误:', error)\n        uni.showToast({\n          title: '登录失败，请稍后重试',\n          icon: 'none'\n        })\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/common.scss';\n\n.login-container {\n  position: relative;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: $white;\n  padding: 40rpx;\n  overflow: hidden;\n}\n\n.login-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 0;\n  overflow: hidden;\n}\n\n.login-shape {\n  position: absolute;\n  border-radius: 50%;\n  \n  &--1 {\n    width: 500rpx;\n    height: 500rpx;\n    background: linear-gradient(135deg, rgba($primary-color, 0.1), rgba($primary-color, 0.05));\n    top: -200rpx;\n    right: -100rpx;\n  }\n  \n  &--2 {\n    width: 600rpx;\n    height: 600rpx;\n    background: linear-gradient(135deg, rgba($primary-darker-color, 0.12), rgba($primary-color, 0.06));\n    bottom: -300rpx;\n    left: -200rpx;\n  }\n  \n  &--3 {\n    width: 300rpx;\n    height: 300rpx;\n    background: linear-gradient(135deg, rgba($primary-color, 0.07), rgba($primary-darker-color, 0.03));\n    top: 30%;\n    left: -150rpx;\n  }\n}\n\n.login-box {\n  position: relative;\n  z-index: 1;\n  width: 90%;\n  max-width: 600rpx;\n  background-color: $white;\n  border-radius: $radius-large;\n  box-shadow: $shadow-large;\n  padding: 50rpx 40rpx;\n  animation: fadeInUp 0.5s ease-out;\n}\n\n.login-header {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 60rpx;\n    \n  .login-logo {\n    width: 140rpx;\n    height: 140rpx;\n      margin-bottom: 20rpx;\n    animation: pulse 2s infinite;\n  }\n  \n  .login-title {\n    font-size: $font-size-xlarge;\n    font-weight: bold;\n    color: $gray-900;\n    margin-bottom: 16rpx;\n  }\n  \n  .login-subtitle {\n    font-size: $font-size-small;\n    color: $gray-600;\n    text-align: center;\n  }\n}\n\n.login-form {\n  .login-input-group {\n    position: relative;\n    margin-bottom: 30rpx;\n    display: flex;\n    align-items: center;\n    background-color: $gray-100;\n    border-radius: $radius-large;\n    border: 1px solid $gray-200;\n    transition: all 0.3s;\n    \n    &:focus-within {\n      border-color: $primary-color;\n      background-color: $white;\n      box-shadow: $shadow-primary;\n    }\n    \n    .login-input-icon {\n      width: 80rpx;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: $gray-600;\n      font-size: $font-size-medium;\n    }\n    \n    .login-input {\n      flex: 1;\n      height: 90rpx;\n      font-size: $font-size-base;\n      color: $gray-900;\n      background-color: transparent;\n      padding: 0 10rpx;\n    }\n    \n    .login-input-action {\n      width: 80rpx;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: $gray-500;\n    }\n  }\n  \n  .login-remember {\n    display: flex;\n    align-items: center;\n      margin-bottom: 30rpx;\n    font-size: $font-size-small;\n    color: $gray-600;\n    \n    .login-remember-checkbox {\n      position: relative;\n      width: 36rpx;\n      height: 36rpx;\n      border-radius: $radius-small;\n      border: 1px solid $gray-400;\n      margin-right: 12rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: $transition-base;\n      \n      &--active {\n        background-color: $primary-color;\n        border-color: $primary-color;\n        \n        &:after {\n          content: \"\";\n          position: absolute;\n          width: 16rpx;\n          height: 8rpx;\n          border-left: 2px solid $white;\n          border-bottom: 2px solid $white;\n          transform: rotate(-45deg);\n        }\n      }\n    }\n  }\n  \n  .login-button-group {\n    margin-bottom: 30rpx;\n    \n    .login-button {\n      position: relative;\n      width: 100%;\n      height: 90rpx;\n      border-radius: $radius-large;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: $font-size-medium;\n      font-weight: 500;\n      border: none;\n      transition: $transition-base;\n      margin-bottom: 20rpx;\n      overflow: hidden;\n      \n      &--primary {\n        background: linear-gradient(135deg, $primary-color, $primary-darker-color);\n        color: $white;\n        box-shadow: $shadow-primary;\n        \n        &:active {\n          transform: translateY(2rpx);\n          box-shadow: 0 2rpx 8rpx rgba($primary-color, 0.2);\n        }\n      }\n      \n      &--default {\n        background-color: $white;\n        color: $primary-color;\n        border: 1px solid $primary-color;\n        \n        &:active {\n          background-color: $primary-light-color;\n          transform: translateY(2rpx);\n        }\n      }\n    }\n  }\n  \n  .login-actions {\n      display: flex;\n      justify-content: space-between;\n    font-size: $font-size-small;\n      \n      text {\n      color: $primary-color;\n      padding: 10rpx;\n      \n      &:active {\n        opacity: 0.8;\n      }\n    }\n  }\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30rpx);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n</style> ","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1742829222322\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}